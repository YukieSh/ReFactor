#!/bin/bash
# SPDX-License-Identifier: GPL-2.0

set -e
for f in `ls ${VERSIONING}/*`
  do
    source $f
  done
if [ -f "customize.sh" ] ; then
  source customize.sh
fi
cd Packages

echo "** Install dependencies **"
set -x
apt-get update
echo "APT::Install-Recommends \"false\";" > /etc/apt/apt.conf.d/99local
echo "APT::Install-Suggests \"false\";" >> /etc/apt/apt.conf.d/99local
apt-get install --no-install-recommends -y \
python-pip \
python3-pip \
python-dev \
python-virtualenv \
libyaml-dev \
libavahi-compat-libdnssd1 \
libnss-mdns \
screen \
tmux \
htop \
unzip \
cpufrequtils \
f2fs-tools \
parted \
python-parted \
network-manager \
libcairo2-dev \
libgirepository1.0-dev \
python3-gi-cairo \
libcairo2-dev \
pkg-config \
python3-dev \
gir1.2-gtk-3.0


yes | pip install setuptools wheel
yes | pip3 install setuptools wheel
yes | pip uninstall distribute
pip install pycairo
pip install PyGObject
pip3 install pycairo
pip3 install PyGObject

echo "FONT=Lat15-Terminus12x6.psf.gz" >> /etc/default/console-setup
echo "force_color_prompt=yes" >> /root/.bashrc

echo "USB_IMAGE_FILE_DISABLED=yes" >> /etc/default/bb-boot

